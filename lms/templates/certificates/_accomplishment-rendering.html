<%!
import urllib

from django.utils.translation import ugettext as _, get_language
%>
<%namespace name='static' file='../static_content.html'/>
<%
course_mode_class = course_mode if course_mode else ''
%>

<%include file="../svg-sprite.html"/>

<main class="accomplishment accomplishment-main">

    <div class="wrapper-accomplishment-rendering">
        <div class="accomplishment-rendering">

            <div class="accomplishment-type">
                <span class="accomplishment-type-label hd-4">${document_title}</span>
            </div>

            <div class="wrapper-statement-and-signatories">
                <div class="accomplishment-statement">
                    <div class="accomplishment-statement__name">
                        <svg class="svg-icon" viewBox="0 0 395 44">
                            <use xlink:href="#certificate_text"></use>
                        </svg>
                    </div>
                    <div class="accomplishment-statement__logo">
                        <svg class="svg-icon" viewBox="0 0 105.9 94.3">
                            <use xlink:href="#mama_logo"></use>
                        </svg>
                    </div>
                </div>

                % if mode != 'base':
                <div class="accomplishment-signatories-wrapper">
                    <div class="accomplishment-signatories accomplishment-signatories-body">
                        <div class="accomplishment-signatories-body__text">
                            ${_("This is to certify that")}
                        </div>
                        <div class="accomplishment-signatories-body__name">
                            ${accomplishment_copy_name | h}
                        </div>
                        <div class="accomplishment-signatories-body__text">
                            ${_("successfully completed and received a passing grade in:")}
                        </div>
                        <%
                        if eng_cert_course_name and get_language() == "en":
                            course_name = eng_cert_course_name
                        else:
                            course_name = accomplishment_copy_course_name
                        %>
                        <div class="accomplishment-signatories-body__name accomplishment-signatories-body__name_course">
                            ${_("\"{accomplishment_copy_course_name}\"").format(
                                accomplishment_copy_course_name=course_name
                            )}
                        </div>
                    </div>
                    <div class="accomplishment-signatories-result">
                        <div class="accomplishment-signatories-result__text">
                            ${_("COURSE GRADE PERFORMANCE:")}
                        </div>
                        <div class="accomplishment-signatories-result__text">
                            ${grade_percentage}% (max 100%)
                        </div>
                        <div class="accomplishment-signatories-result__text">
                            ${
                                _("with {points_earned} points (max {points_total} points)").format(
                                    points_earned=points_earned,
                                    points_total=points_total
                                )
                            }
                        </div>
                    </div>
                </div>
                <div class="accomplishment-signatories-wrapper-bottom accomplishment-signatories-body">
                    <div class="accomplishment-signatories-body__text">
                        ${_("MAMA Academy (Major Affiliate Marketing Academy) is the first comprehensive educational project aimed at the high-quality development of professions in the field of affiliate marketing.")}
                    </div>
                </div>
                % endif
            </div>

            <div class="accomplishment-info">
                <ul class="accomplishment-info-list">
                    <li class="accomplishment-info-list__item">
                        <div class="accomplishment-info-list__title">
                            ${certificate_date_issued_title}
                        </div>
                        <div class="accomplishment-info-list__content">
                            % if course_end_date:
                                ${course_end_date}
                            % else:
                                ${certificate_date_issued}
                            % endif
                        </div>
                    </li>
                    <li class="accomplishment-info-list__item">
                        <div class="accomplishment-info-list__title">
                            ${certificate_id_number_title}:
                        </div>
                        <div class="accomplishment-info-list__content">
                            ${certificate_id_number}
                        </div>
                    </li>
                </ul>
            </div>

            <div class="accomplishment-seal">
                <svg class="svg-icon" viewBox="0 0 447 446.5">
                    <use xlink:href="#mama_seal_02"></use>
                </svg>
            </div>
        </div>
    </div>

    % if user.is_authenticated() and user.id == int(accomplishment_user_id):
        <div class="share-section">
            <h2 class="share-section__title">${_("Share it")}:</h2>
            <ul class="share-section-list">
                <li class="share-section-list__item">
                    <a href="https://www.facebook.com/sharer/sharer.php?u=${ urllib.quote(request.build_absolute_uri(), safe='') }">
                        <svg class="svg-icon" viewBox="0 0 37 37">
                            <use xlink:href="#facebook-share-certificate"></use>
                        </svg>
                    </a>
                </li>
                <li class="share-section-list__item">
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url=${ urllib.quote(request.build_absolute_uri(), safe='') }">
                        <svg class="svg-icon" viewBox="0 0 37 37">
                            <use xlink:href="#linked-in-share-certificate"></use>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    % endif

</main>
