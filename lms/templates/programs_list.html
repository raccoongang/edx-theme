<%page expression_filter="h"/>
<%namespace name='static' file='static_content.html'/>
<%! from django.utils.translation import ugettext as _ %>

<section class="programs-container">
    % if settings.FEATURES.get('COURSES_ARE_BROWSABLE'):
    <section class="programs">
        <div class="programs-listing">
            ## limiting the course number by using HOMEPAGE_COURSE_MAX as the maximum number of courses
            %for program in programs:
            <div class="programs-listing-item">
                <h3 class="program-title">
                    ${program.get('title')}
                    <span class="program-subtitle">
                        ${program.get('subtitle')}
                    </span>
                </h3>
                <%include file="courses_list.html" args="courses=program.get('courses')" />
            </div>
            %endfor
        </div>
    </section>
    ## in case there are courses that are not shown on the homepage, a 'View all Courses' link should appear
    ##    % if homepage_course_max and len(courses) > homepage_course_max:
    ##    <div class="courses-more">
    ##      <a class="courses-more-cta" href="${marketing_link('COURSES')}"> ${_("View all Courses")} </a>
    ##    </div>
    ##  % endif
    % endif
</section>
